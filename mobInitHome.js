/*!
Premium Pack iPad Skin Version 2.10 script functions
For Help & Manual 6 only 
Copyright (c) 2008-2012 by Tim Green. 
All rights reserved.
*/
var hmMobile={navDoc:{},idxDoc:{},schDoc:{},ctDoc:{},zmDoc:{},reDirect:"",onlineStatus:false,loaded:false,navLoaded:true,isZoom:false,doNavUpdate:false,idxLoaded:false,idxPage:"",schLoaded:false,schVisible:false,schHeight:0,indexPage:"index.html",currentPage:"",previousPage:"",nextPage:"",currentNav:"iframe#hmnavigation",widest:0,anchorTarget:"",isIpad:navigator.platform.indexOf("iPad")>-1,isStandalone:("standalone" in window.navigator)&&window.navigator.standalone,isSafari:(navigator.platform.indexOf("iPad")>-1&&(navigator.userAgent.indexOf("Safari")>-1)||(("standalone" in window.navigator)&&window.navigator.standalone)),isIOS5:(function(){var b=/Mozilla.*?\(iPad.*?CPU OS ([_\d]+?) like Mac OS X.*?\)/;var a=b.exec(navigator.userAgent);var c=null;if(a!=null){c=parseInt(a[1].replace("_","").substr(0,2),10);if(c>=50){return true}else{return false}}else{return false}})(),setCookie:function(c,d,e){if(e){var b=new Date();b.setTime(b.getTime()+(e*24*60*60*1000));var a="; expires="+b.toGMTString()}else{var a=""}document.cookie=c+"="+d+a+"; path=/"},getCookie:function(b){var e=b+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var f=a[d];while(f.charAt(0)==" "){f=f.substring(1,f.length)}if(f.indexOf(e)==0){return f.substring(e.length,f.length)}}return null},deleteCookie:function(a){hmMobile.setCookie(a,"",-1)},scrW:screen.width<screen.height?screen.width:screen.height,scrH:screen.height>screen.width?screen.height:screen.width,navOfs:0,searchSize:function(){var b=$("div#hmcontainer").width();var c=Math.round(b/2);var a=$("div#hmcontainer").height();$("div#hmsearchbox").css({width:b+"px",height:a+"px"});$("iframe#hmsearch").css({height:(a-10)+"px"});if(hmMobile.schLoaded&&hmMobile.schDoc.hmTouch){hmMobile.schDoc.hmTouch.resizeWin(true,true)}},oBind:function(a){if(!a){$(document).bind("touchmove",function(b){b.preventDefault()})}$(document).bind("orientationchange",function(){setTimeout(function(){var b=(hmMobile.currentNav==="iframe#hmnavigation");hmMobile.ctDoc.hmTouch.init();if(b){hmMobile.navDoc.hmTouch.resizeWin(true)}if(hmMobile.idxLoaded&&!b){hmMobile.idxDoc.hmTouch.resizeWin(true)}hmMobile.searchSize()},300)})},oUnbind:function(a){if(!a){$(document).unbind("touchmove")}$(document).unbind("orientationchange")},wHorizontal:function(){return(Math.abs(window.orientation)-90===0)?true:false},zoomHeader:function(a){if(a){hmMobile.isZoom=true;var b=document.createElement("meta");$(b).attr({name:"viewport",content:"width=device-width, user-scalable=yes, maximum-scale=3.0, minimum-scale=0.2"});$("meta[name='viewport']").remove();$("head").append(b)}else{hmMobile.isZoom=false;var b=document.createElement("meta");$(b).attr({name:"viewport",content:"width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"});$("meta[name='viewport']").remove();$("head").append(b)}},zoomWindow:function(c){var a="";var b=/\#zoom_highlight/g;if(c==="return"){if(document.documentElement.clientWidth/window.innerWidth>1){alert(pinchZoom);return}$("#hmzoompane").fadeOut("fast",function(){hmMobile.zoomHeader(false);$("#hmcontainer").fadeIn("fast")})}else{if(b.test(hmMobile.ctDoc.location.href)){a=hmMobile.ctDoc.location.href.substr(hmMobile.ctDoc.location.href.lastIndexOf("#zoom_highlight"))}c+=a;hmMobile.zoomHeader(true);hmMobile.zmDoc.location.assign(c);$("#hmcontainer").fadeOut("fast",function(){$("#hmzoompane").fadeIn("fast",function(){if(c.indexOf("#zoom_highlight")>0){hmMobile.zmDoc.hmAnimate=false;hmMobile.zmDoc.HMToggleExpandAll(true);hmMobile.zmDoc.hmAnimate=hmMobile.zmDoc.animationSetting}})})}},switchNav:function(c,a,b){if(c===hmMobile.currentNav){return}$("#hmHelpNav a.active").removeClass("active");if(b){$(b).addClass("highlight");setTimeout(function(){$(b).removeClass("highlight")},600)}$("#hmnavbox").animate({left:"-240"},300,"swing",function(){$(hmMobile.currentNav).hide().css("visibility","hidden");$(this).css("left","240px");if(c==="iframe#hmindex"&&!hmMobile.idxLoaded){hmMobile.idxPage=a;if(!hmMobile.idxDoc.hmTouch){hmMobile.idxDoc=document.getElementById("hmindex").contentWindow}hmMobile.idxDoc.location.replace(a)}$(c).show().css("visibility","visible");$("#hmnavbox").animate({left:"0"},300,"swing",function(){if(b){$(b).removeClass("highlight");$(b).addClass("active")}hmMobile.currentNav=c;if(c==="iframe#hmnavigation"){var d=setInterval(function(){if(hmMobile.navDoc.hmTouch){hmMobile.navDoc.hmTouch.resizeWin(true);d=clearInterval(d)}},300)}else{var e=setInterval(function(){if(hmMobile.idxDoc.hmTouch){hmMobile.idxDoc.hmTouch.resizeWin(true);e=clearInterval(e)}},300)}})})},doSearch:function(a,b){if(!hmMobile.schVisible){$("#hmHelpNav a.active").removeClass("active");$(b).addClass("highlight");setTimeout(function(){$(b).removeClass("highlight")},600);if(!hmMobile.schLoaded){hmMobile.schDoc=document.getElementById("hmsearch").contentWindow;hmMobile.schDoc.location.replace(a);hmMobile.schLoaded=true}$("div#hmsearchbox").show();hmMobile.schVisible=true;$(b).addClass("active")}else{$("div#hmsearchbox").hide();hmMobile.schVisible=false;hmMobile.switchNav("iframe#hmnavigation","",$("a#ctLink"));$("#hmHelpNav a.active").removeClass("active");$(b).addClass("highlight");setTimeout(function(){$(b).removeClass("highlight");$("a#ctLink").addClass("active");hmMobile.ctDoc.hmTouch.init()},600)}},navLoadPage:function(b){if(hmMobile.currentPage!=b){var a=b.indexOf("#");if(a>-1){hmMobile.anchorTarget=b.substr(a);b=b.substr(0,a)}if(hmMobile.isIOS5){hmMobile.ctDoc.location.assign(b)}else{hmMobile.ctDoc.location.replace(b)}}},buttonFlash:function(a){$(a).addClass("highlight");setTimeout(function(){$(a).removeClass("highlight")},600)},checkForUpdate:function(){if(hmMobile.isStandalone){if(window.applicationCache!=undefined&&window.applicationCache!=null){window.applicationCache.addEventListener("downloading",hmMobile.downloadingApplication)}}},downloadingApplication:function(b){$("div#cacheReload").show();window.applicationCache.removeEventListener("downloading",hmMobile.downloadingApplication);window.applicationCache.addEventListener("updateready",hmMobile.updateApplication);var a=setInterval(function(){if(window.applicationCache.status!=3){$("div#cacheReload").hide();clearInterval(a);window.applicationCache.removeEventListener("downloading",hmMobile.downloadingApplication)}},1500)},updateApplication:function(a){if(window.applicationCache.status!=4){return}window.applicationCache.removeEventListener("updateready",hmMobile.updateApplication);window.applicationCache.removeEventListener("downloading",hmMobile.downloadingApplication);$("div#cacheReload").hide();window.applicationCache.swapCache();window.location.reload()},init:function(c){var b=$("#hmcontainer").outerHeight(true)-4;hmMobile.navOfs=hmMobile.wHorizontal()?hmMobile.scrW-b:hmMobile.scrH-b;var e="";var f=location.href;if(f.lastIndexOf("?")>0){e=f.substring(f.lastIndexOf("?")+1,f.length).replace(/:/g,"");var d=e.indexOf("#");if(d>0){hmMobile.anchorTarget=e.substr(d);e=e.substr(0,d)}if(hmMobile.isIOS5){document.getElementById("hmcontent").contentWindow.location.assign(e)}else{document.getElementById("hmcontent").contentWindow.location.replace(e)}hmMobile.doNavUpdate=true}hmMobile.navDoc=document.getElementById("hmnavigation").contentWindow;hmMobile.ctDoc=document.getElementById("hmcontent").contentWindow;hmMobile.zmDoc=document.getElementById("hmzoomframe").contentWindow;hmMobile.oBind(hmMobile.loaded);$("iframe[name=hmnavigation]").bind("load",function(){hmMobile.navDoc.hmTouch.highlighter(null)});function a(){var g=setInterval(function(){if(hmMobile.navDoc.hmTouch&&hmMobile.navDoc.hmTouch.myScroll.vScroll){clearInterval(g);hmMobile.navDoc.hmTouch.highlighter(null);hmMobile.navDoc.hmTouch.myScroll.refresh()}},100)}$("iframe[name=hmcontent]").bind("load",function(){a()});if(hmMobile.doNavUpdate){a()}hmMobile.searchSize();$("div#cacheReload").bind("click",function(){if($("#cacheMsg").is(":visible")){$("#cacheMsg").animate({width:0},400).hide();$("div#cacheReload").animate({width:50,height:48},400)}else{$("#cacheMsg").show().animate({width:320},400);$("div#cacheReload").animate({width:375,height:53},400)}});if(!hmMobile.getCookie("oldIOswarner")&&oldIOSwarn&&!hmMobile.isIOS5){alert(oldIOSwarning);hmMobile.setCookie("oldIOswarner",true,1)}}};if(hmMobile.isStandalone){$(document).ready(function(){hmMobile.init(true);hmMobile.loaded=true})}else{if(!hmMobile.isIpad||(hmMobile.isIpad&&!hmMobile.isSafari)){$("*").hide();if(!hmMobile.isSafari&&hmMobile.isIpad){alert(window.noSafari);window.history.back(1)}else{if(window.reDirect!=""){document.location.replace(window.reDirect)}else{alert(window.noPad);window.history.back(1)}}}else{$(document).ready(function(){hmMobile.init(false);hmMobile.loaded=true})}}hmMobile.checkForUpdate();$(document).ready(function(){$(document.body).bind("online",checkNetworkStatus);$(document.body).bind("offline",checkNetworkStatus);checkNetworkStatus()});function checkNetworkStatus(){if(navigator.onLine){$.ajaxSetup({async:true,cache:false,context:$("#status"),dataType:"json",error:function(c,a,b){hmMobile.onlineStatus=false},success:function(c,a,b){hmMobile.onlineStatus=true},timeout:5000,type:"GET",url:"./ping.js"});$.ajax()}else{hmMobile.onlineStatus=false}};